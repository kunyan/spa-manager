(window["webpackJsonpspa-manager"]=window["webpackJsonpspa-manager"]||[]).push([[0],{110:function(e,a,t){e.exports=t.p+"static/media/avatar.a56b0f14.svg"},111:function(e,a,t){e.exports=t.p+"static/media/logo.f866dbab.svg"},131:function(e,a,t){e.exports=t(273)},137:function(e,a,t){},273:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(27);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(136),t(137);var i=t(40),c=t(30),o=t(28),p=t(106),s=t.n(p),m=t(304),u=t(66),d=t(307),b=t(303),E=t(62),h=t(293),f=t(294),g=t(295),v=t(311),O=t(289),y=t(290),j=t(282),k=t(285),w=t(286),S=t(287),x=t(288),P=t(305),A=t(309),I=t(310),T=t(283),D=t(284),N=t(9),R=t(45),C=t.n(R),L=t(109),q=t.n(L),z=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(!1),c=Object(o.a)(i,2),p=c[0],s=c[1];var u=[r.a.createElement(j.a,null,r.a.createElement(T.a,null)," Notifications"),r.a.createElement(j.a,null,r.a.createElement(D.a,null)," Settings")],d=[r.a.createElement(j.a,{key:"link-1"},"Link"),r.a.createElement(j.a,{key:"link-2",component:"button"},"Action"),r.a.createElement(j.a,{key:"link-3",isDisabled:!0},"Disabled Link"),r.a.createElement(j.a,{key:"link-4",isDisabled:!0,component:"button"},"Disabled Action"),r.a.createElement(k.a,{key:"link-separator"}),r.a.createElement(j.a,{key:"link-5"},"Separated Link"),r.a.createElement(j.a,{key:"link-6",component:"button"},"Separated Action")];return r.a.createElement(w.a,null,r.a.createElement(S.a,{className:Object(N.b)(C.a.screenReader,C.a.visibleOnLg)},r.a.createElement(x.a,null,r.a.createElement(m.a,{id:"simple-example-uid-01","aria-label":"Notifications actions",variant:m.b.plain},r.a.createElement(T.a,null))),r.a.createElement(x.a,null,r.a.createElement(m.a,{id:"simple-example-uid-02","aria-label":"Settings actions",variant:m.b.plain},r.a.createElement(D.a,null)))),r.a.createElement(S.a,null,r.a.createElement(x.a,{className:Object(N.b)(C.a.hiddenOnLg,q.a.mr_0)},r.a.createElement(P.a,{isPlain:!0,position:"right",toggle:r.a.createElement(A.a,{onToggle:function(e){console.log("hello"),s(e)}}),isOpen:p,dropdownItems:u})),r.a.createElement(x.a,{className:Object(N.b)(C.a.screenReader,C.a.visibleOnMd)},r.a.createElement(P.a,{isPlain:!0,position:"right",isOpen:t,toggle:r.a.createElement(I.a,{onToggle:function(e){l(e)}},"Kun Yan"),dropdownItems:d}))))},H=t(110),B=t.n(H),F=t(111),G=t.n(F),J=function(){return r.a.createElement(v.a,{logo:r.a.createElement(O.a,{src:G.a,alt:"SPAship Logo",width:"55%"}),toolbar:r.a.createElement(z,null),avatar:r.a.createElement(y.a,{src:B.a,alt:"Avatar image"}),showNavToggle:!0})},M=t(292),U=t(52),W=t(306),_=t(29),K=t(291),Y=function(){var e=Object(n.useState)(1),a=Object(o.a)(e,2),t=a[0],l=a[1];return r.a.createElement(U.a,{onSelect:function(e){l(e.itemId)},"aria-label":"Nav",theme:"dark"},r.a.createElement(W.a,{variant:_.a.simple},r.a.createElement(K.a,{itemId:0,isActive:0===t},"Dashboard"),r.a.createElement(K.a,{itemId:1,isActive:1===t},r.a.createElement(i.b,{to:"/applications"},"Application List")),r.a.createElement(K.a,{itemId:2,isActive:2===t},"Authentication"),r.a.createElement(K.a,{itemId:3,isActive:3===t},"Network Services"),r.a.createElement(K.a,{itemId:4,isActive:4===t},"Server")))},$=function(){return r.a.createElement(M.a,{nav:r.a.createElement(Y,null),theme:"dark"})},Q=function(e){var a=e.title,t=e.subTitle,n=e.children;return r.a.createElement(E.a,{header:r.a.createElement(J,null),sidebar:r.a.createElement($,null),isManagedSidebar:!0,mainContainerId:"main-content-page-layout-simple-nav"},r.a.createElement(h.a,{variant:h.b.light},r.a.createElement(f.a,null,r.a.createElement(g.a,{component:"h1"},a))),t&&r.a.createElement(h.a,{variant:h.b.light},t),r.a.createElement(h.a,null,n))},V={apiHost:"http://spandx.gsslab.rdu2.redhat.com:8008",siteHost:"https://spandx.usersys.redhat.com"},X=function(){var e=Object(n.useState)([{title:"Name"},{title:"Path"},{title:"Ref"},{title:"Actions"}]),a=Object(o.a)(e,1)[0],t=Object(n.useState)([]),l=Object(o.a)(t,2),c=l[0],p=l[1],E=Object(n.useCallback)((function(){console.log("start to fetch"),fetch("".concat(V.apiHost,"/list")).then((function(e){return e.json()})).then((function(e){p(s()(e,(function(e){return{cells:[e.name,e.path&&{title:r.a.createElement("a",{href:V.siteHost+e.path,target:"_blank",rel:"noopener noreferrer"},e.path)},e.ref&&{title:r.a.createElement("a",{href:"#".concat(e.ref)},e.ref.substring(0,6))},""]}})))}))}),[]);return Object(n.useEffect)((function(){E();var e=setInterval(E,5e3);return function(){return clearInterval(e)}}),[E]),r.a.createElement(Q,{title:"Application List",subTitle:r.a.createElement(i.b,{to:"/applications/new"},r.a.createElement(m.a,{variant:"primary"},"Upload to Deploy"))},r.a.createElement(u.a,{cells:a,rows:c,"aria-label":"Application List"},r.a.createElement(d.a,null),r.a.createElement(b.a,null)))},Z=t(15),ee=t(296),ae=t(297),te=t(298),ne=t(299),re=t(300),le=t(308),ie=t(301),ce=t(302),oe=t(118);function pe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function se(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?pe(t,!0).forEach((function(a){Object(Z.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pe(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var me=Object(c.g)((function(e){var a=e.history,t=Object(n.useState)({name:"",path:"",ref:"",upload:""}),l=Object(o.a)(t,2),i=l[0],c=l[1],p=Object(n.useState)(!1),s=Object(o.a)(p,2),u=s[0],d=s[1];function b(e,a){c(se({},i,Object(Z.a)({},a.currentTarget.name,e)))}return r.a.createElement(Q,{title:"Upload to deploy"},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(te.a,null,r.a.createElement(ne.a,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Please provide app name"},r.a.createElement(re.a,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name-helper",placeholder:"Name",value:i.name,onChange:b})),r.a.createElement(ne.a,{label:"Path",isRequired:!0,fieldId:"path",helperText:"Please provide app path"},r.a.createElement(le.a,null,r.a.createElement(ie.a,{id:"site-host"},V.siteHost),r.a.createElement(re.a,{isRequired:!0,type:"text",id:"path",name:"path",placeholder:"/path-name","aria-describedby":"path-helper",value:i.path,onChange:b}))),r.a.createElement(ne.a,{label:"Git Ref",isRequired:!0,fieldId:"ref",helperText:"Please provide Git Ref"},r.a.createElement(re.a,{isRequired:!0,type:"text",id:"ref",name:"ref",placeholder:"Tag or Branch","aria-describedby":"ref-helper",value:i.ref,onChange:b})),r.a.createElement(ne.a,{label:"File",isRequired:!0,fieldId:"upload",helperText:"Supports uploading of .tar,.tar.bz2,.tar.gz, and.zip."},r.a.createElement("input",{onChange:function(e){var a=e.currentTarget.files&&e.currentTarget.files[0]||"";c(se({},i,{upload:a}))},required:!0,type:"file",id:"upload",name:"upload",placeholder:"Supports uploading of .tar,.tar.bz2,.tar.gz, and.zip.","aria-describedby":"upload-helper"})),r.a.createElement(ce.a,null,r.a.createElement(m.a,{variant:"primary",onClick:function(){d(!0),console.log(i);var e=new FormData;e.append("name",i.name),e.append("path",i.path),e.append("ref",i.ref),e.append("upload",i.upload),fetch("".concat(V.apiHost,"/deploy"),{method:"POST",body:e}).then((function(e){return e.text()})).then((function(e){console.log(e),d(!1),a.push("/applications")}))},isDisabled:u},u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.Spinner,{size:"md"}),r.a.createElement("span",null," ")),"Submit"),r.a.createElement(m.a,{variant:"secondary",onClick:function(){a.goBack()}},"Cancel"))))))})),ue=function(){return r.a.createElement("div",null,"Application index")};Object(l.render)(r.a.createElement((function(){return r.a.createElement(i.a,null,r.a.createElement(c.d,null,r.a.createElement(c.a,{exact:!0,path:"/",to:"/applications"}),r.a.createElement(c.b,{path:"/applications/new",component:me}),r.a.createElement(c.b,{path:"/applications/:applicationName",component:ue}),r.a.createElement(c.b,{path:"/applications",component:X})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[131,1,2]]]);
//# sourceMappingURL=main.9a253a4e.chunk.js.map